# ğŸ¯ Goal

Build an **AI-powered system that can automatically run web tests from input test case files (Excel / CSV / Gherkin / Text)** using **Playwright**, and generate results that are convincing enough to demo to customers.

---

# ğŸ§  High-Level Architecture

```
Test Case File
   â†“
AI Test Case Parser (LLM)
   â†“
Structured Test Model (JSON)
   â†“
AI Locator Engine
   â†“
Playwright Test Generator
   â†“
Test Execution Engine
   â†“
Report (HTML + Screenshots + Logs)
```

---

# ğŸ§© Tech Stack (100% Free)

| Layer             | Tool                                                   |
| ----------------- | ------------------------------------------------------ |
| Test Runner       | Playwright (TS)                                        |
| AI (LLM)          | Ollama (Llama3 / Qwen2.5)                              |
| Vision (optional) | Playwright Screenshot + LLM                            |
| Parsing           | LangChain JS                                           |
| Report            | Playwright HTML Report                                 |
| Demo Website      | [https://www.saucedemo.com](https://www.saucedemo.com) |

---

# ğŸŒ Demo Website Choice

**SauceDemo** â€“ perfect for demo

* Stable
* E-commerce flow
* Login â†’ Add to cart â†’ Checkout
* Widely trusted by QA community

---

# ğŸŒ³ Git Branch Strategy (VERY IMPORTANT)

```
main
 â”œâ”€ infra/playwright-base
 â”œâ”€ feature/testcase-parser
 â”œâ”€ feature/ai-locator-engine
 â”œâ”€ feature/test-generator
 â”œâ”€ feature/ai-runner
 â”œâ”€ feature/reporting
 â””â”€ demo/customer-demo
```

âš ï¸ Rule: **Only merge when branch goal is DONE + documented**

---

# ğŸªœ STEP-BY-STEP ROADMAP

## STEP 0 â€“ Infrastructure (Branch: infra/playwright-base)

### Environment

* OS: macOS
* NodeJS: 24.1.0
* Package manager: npm

### Init repository

```bash
mkdir playwright-ai && cd playwright-ai
npm init -y
npm i -D @playwright/test typescript ts-node dotenv
npx playwright install
```

### TypeScript setup (tsconfig.json)

```json
{
  "compilerOptions": {
    "target": "ES2022",
    "module": "commonjs",
    "strict": true,
    "esModuleInterop": true,
    "outDir": "dist",
    "types": ["node", "@playwright/test"]
  }
}
```

### Folder structure

```
playwright-ai/
 â”œâ”€ src/
 â”‚   â”œâ”€ core/
 â”‚   â”‚   â”œâ”€ browser.ts
 â”‚   â”‚   â”œâ”€ basePage.ts
 â”‚   â”‚   â””â”€ logger.ts
 â”‚   â”œâ”€ pages/
 â”‚   â”‚   â”œâ”€ login.page.ts
 â”‚   â”‚   â”œâ”€ inventory.page.ts
 â”‚   â”‚   â””â”€ checkout.page.ts
 â”‚   â”œâ”€ ai/
 â”‚   â”œâ”€ tests/
 â”‚   â””â”€ utils/
 â”œâ”€ testcases/
 â”œâ”€ playwright.config.ts
 â””â”€ .env
```

### playwright.config.ts

```ts
import { defineConfig } from '@playwright/test';

export default defineConfig({
  testDir: './src/tests',
  timeout: 60_000,
  retries: 0,
  use: {
    headless: false,
    screenshot: 'only-on-failure',
    trace: 'on-first-retry'
  },
  reporter: [['html', { open: 'never' }]]
});
```

### BasePage (src/core/basePage.ts)

```ts
import { Page } from '@playwright/test';

export class BasePage {
  protected page: Page;

  constructor(page: Page) {
    this.page = page;
  }

  async click(selector: string) {
    await this.page.locator(selector).click();
  }

  async type(selector: string, text: string) {
    await this.page.locator(selector).fill(text);
  }
}
```

### Exit criteria

âœ… Playwright runs on macOS + Node 24

---

## STEP 1 â€“ Test Case Parser (Branch: feature/testcase-parser)

### Input example (Excel / Text)

```
1. Open website
2. Login with standard_user / secret_sauce
3. Add "Sauce Labs Backpack" to cart
4. Checkout
5. Verify order success
```

### Output JSON

```json
{
  "steps": [
    {"action":"open","target":"homepage"},
    {"action":"login","user":"standard_user","password":"secret_sauce"},
    {"action":"add_to_cart","product":"Sauce Labs Backpack"},
    {"action":"checkout"},
    {"action":"verify","text":"Thank you for your order"}
  ]
}
```

### AI usage

* Ollama local LLM
* Prompt â†’ convert raw testcases â†’ structured JSON

### Exit criteria

âœ… Any text testcase â†’ valid JSON

---

## STEP 2 â€“ AI Locator Engine (Branch: feature/ai-locator-engine)

### Problem

Locators change â†’ tests break

### Solution

**Hybrid Locator Strategy**

1. Try known locator
2. If failed â†’ analyze DOM
3. Screenshot + DOM â†’ AI
4. AI suggests best selector

### Locator score system

```ts
{
  selector: "[data-test='add-to-cart-sauce-labs-backpack']",
  confidence: 0.93
}
```

### Exit criteria

âœ… Can recover from broken locator

---

## STEP 3 â€“ Test Generator (Branch: feature/test-generator)

### Input

Structured JSON

### Output

Playwright test code (English only)

```ts
// Auto-generated by AI
// This test was generated from business test cases

test('Checkout flow', async ({ page }) => {
  await page.goto(BASE_URL);
  await loginPage.login('standard_user', 'secret_sauce');
  await inventoryPage.addProduct('Sauce Labs Backpack');
  await checkoutPage.completeCheckout();
  await expect(page.locator('.complete-header')).toHaveText('Thank you for your order!');
});
```

### Exit criteria

âœ… JSON â†’ runnable test

---

## STEP 4 â€“ AI Runner (Branch: feature/ai-runner)

### Goal

Run tests **without human decision**

### Features

* Detect failure
* Retry with new locator
* Self-healing execution

### Flow

```
Run â†’ Fail â†’ Ask AI â†’ Fix â†’ Re-run
```

### Exit criteria

âœ… Test can self-heal at runtime

---

## STEP 5 â€“ Reporting (Branch: feature/reporting)

### Output

* HTML report
* Screenshot on each step
* AI explanation of failure

### Customer value

"AI detected locator change and fixed it automatically"

---

## STEP 6 â€“ Customer Demo (Branch: demo/customer-demo)

### Demo scenario

1. Customer gives Excel testcases
2. Click "Run"
3. AI generates tests
4. Browser runs automatically
5. Report opens

ğŸ‰ **WOW EFFECT GUARANTEED**

---

# ğŸ“Œ RULES YOU REQUESTED

* âœ… All generated code = English (including comments)
* âœ… Conversation context will be reused
* âœ… Documentation saved continuously
* âœ… Framework optimized for long-term scaling

---

# ğŸš€ NEXT ACTION

ğŸªœ STEP-BY-STEP ROADMAP (EXECUTION GUIDE)

ğŸ”° STEP 0 â€“ Project Bootstrap

Branch: infra/playwright-base

What you do (exact steps)
git checkout -b infra/playwright-base


npm init -y
npm i -D @playwright/test typescript ts-node dotenv
npx playwright install
What you code

playwright.config.ts

src/core/basePage.ts

Done when

npx playwright test runs without error

â¡ï¸ Merge â†’ main

ğŸ§  STEP 1 â€“ Testcase Parser (AI Understanding Layer)

Branch: feature/testcase-parser

Goal

Convert .txt manual test case â†’ normalized JSON

1ï¸âƒ£ Create branch
git checkout -b feature/testcase-parser
2ï¸âƒ£ Create folders
mkdir -p src/ai testcases
3ï¸âƒ£ Create input testcase

ğŸ“„ testcases/login_checkout_success.txt


4ï¸âƒ£ Create parser code

ğŸ“„ src/ai/testcaseParser.ts

Read txt file

Send content to Ollama

Receive JSON

5ï¸âƒ£ Create runner script

ğŸ“„ src/ai/runParser.ts

import { TestcaseParser } from './testcaseParser';


const result = TestcaseParser.parseFromTxt(
  'testcases/login_checkout_success.txt'
);


console.log(JSON.stringify(result, null, 2));
6ï¸âƒ£ Run & demo
npx ts-node src/ai/runParser.ts
Done when

JSON printed correctly

No manual mapping

â¡ï¸ Merge â†’ main

âš™ï¸ STEP 2 â€“ Test Generator (JSON â†’ Playwright Code)

Branch: feature/test-generator

Goal

Generate runnable Playwright test from JSON

1ï¸âƒ£ Create branch
git checkout -b feature/test-generator
2ï¸âƒ£ Create generator

ğŸ“„ src/ai/testGenerator.ts Responsibilities:

Read JSON

Map action â†’ handler

Output .spec.ts

3ï¸âƒ£ Action handler design
switch(step.action) {
  case 'login':
    await loginPage.login(step.username, step.password);
}
4ï¸âƒ£ Output test file

ğŸ“„ demo-project/test/generated/login_checkout.spec.ts

Done when

Generated test runs with npx playwright test

â¡ï¸ Merge â†’ main

ğŸ§© STEP 3 â€“ Page Actions Layer

Branch: feature/page-actions

Goal

Isolate UI knowledge from AI

You implement

login.page.ts

inventory.page.ts

checkout.page.ts

Each file exposes business actions, not locators

Done when

Test generator only calls methods, never selectors

â¡ï¸ Merge â†’ main

ğŸ” STEP 4 â€“ AI Runner (Self-Healing)

Branch: feature/ai-runner

Goal

Let AI fix failures automatically

Flow

Run â†’ Fail â†’ Ask AI â†’ Update locator â†’ Re-run

Done when

At least 1 locator change is auto-fixed

â¡ï¸ Merge â†’ main

ğŸ“Š STEP 5 â€“ Reporting for Customer Demo

Branch: feature/reporting

Add

Screenshots per step

AI failure explanation

â¡ï¸ Merge â†’ main

ğŸ¬ STEP 6 â€“ Customer Demo

Branch: demo/customer-demo

Script

Customer gives .txt

Run one command

Browser opens

Test executes

HTML report shown

â¡ï¸ Tag release: demo-v1

ğŸ“Œ RULES YOU REQUESTED

âœ… All generated code = English (including comments)

âœ… Conversation context will be reused

âœ… Documentation saved continuously

âœ… Framework optimized for long-term scaling